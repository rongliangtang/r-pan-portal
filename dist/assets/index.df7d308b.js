/* empty css                  */import{E as L,a as N,b as U,c as C}from"./el-col.47992cb9.js";import"./el-tooltip.9d44fe49.js";import"./el-scrollbar.65ec3094.js";import{E as D}from"./el-divider.ee5a776d.js";import{P as V}from"./index.9fdaa6b3.js";import{Y as F,r as _,Z as R,o as p,g as h,M as l,C as a,t as g,w as i,ck as Z,aD as x,am as A,bZ as H,V as v,f as O,a0 as T,a1 as Y}from"./index.997f7450.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./index.246dfa24.js";import"./index.3f6deefe.js";import"./el-input.6af1cfe6.js";import"./index.4ee0a41f.js";const q="/assets/record.f82a5110.png";const E=c=>(T("data-v-f80f25b0"),c=c(),Y(),c),z={class:"pan-music-content"},G={class:"music-name-content"},J={class:"music-name"},K=E(()=>a("div",{class:"record-img-content"},[a("img",{class:"record-img",src:q})],-1)),Q={class:"music-content"},W=["src"],X={class:"music-list-content"},$=E(()=>a("i",{class:"fa fa-music"},null,-1)),ee={slot:"title"},se={__name:"index",setup(c){const m=F(),r=_(""),n=_([]),u=_(""),o=_("0"),y=e=>{n.value=new Array,e.forEach((s,t)=>{s.filename=s.filename.substring(0,s.filename.lastIndexOf(".")),s.filename.length>15&&(s.filename=s.filename.substring(0,16)+"..."),s.fileId===m.params.fileId&&(r.value=s.filename,u.value=v.getPreviewUrl(s.fileId)),n.value.push(s)}),o.value=m.params.fileId},w=()=>{let e="",s=o.value;if(n.value.some((d,f)=>{if(d.fileId===s)return e=f,!0}),e===n.value.length-1)return;let t=n.value[++e];r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),o.value=t.fileId},M=(e,s)=>{o.value=e,n.value.some(t=>{if(t.fileId===e)return r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),!0})},P=()=>{document.getElementById("r_pan_music_player").addEventListener("ended",()=>{w()},!1)},S=()=>{Z.list({parentId:m.params.parentId,fileTypes:"8"},e=>{e.code===0?(y(e.data),P()):x.error(e.message)},e=>{x.error(e.message)})};return R(()=>{S()}),(e,s)=>{const t=D,d=L,f=N,b=U,k=C;return p(),h("div",null,[l(V),a("div",z,[a("div",G,[a("p",J,g(r.value),1)]),l(t),l(k,null,{default:i(()=>[l(d,{span:18},{default:i(()=>[K,a("div",Q,[a("audio",{id:"r_pan_music_player",src:u.value,autoplay:"true",controls:"true"},null,8,W)])]),_:1}),l(d,{span:6},{default:i(()=>[a("div",X,[l(b,{class:"music-list","default-active":o.value,onSelect:M},{default:i(()=>[(p(!0),h(A,null,H(n.value,(I,B)=>(p(),O(f,{key:B,index:I.fileId},{default:i(()=>[$,a("span",ee,g(I.filename),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])]),_:1})]),_:1})])])}}},fe=j(se,[["__scopeId","data-v-f80f25b0"]]);export{fe as default};
